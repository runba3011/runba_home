<p class = "section_title">アニメーションのテスト</p>

<script>
  jQuery(function($){
    $selectButton = $(".play1_select_buttons");
    // ボタンを押し、オブジェクトを選択する処理
    $selectButton.on("click" , function(){
      $("#selected p:last").removeAttr("style").text("選択する");
      $("#selected").removeAttr("id");

      // selectedのidはplay1_single_parentに掛けている
      $(this).parent().attr("id" , "selected");
      $(this).text("enterを押そう！").css("width" , "200px");
    })

    // エンターキー他入力された時の処理

    let object_1_operate_count = 0
    $("html").keypress(function(e){
      if(e.keyCode  == 13){
        console.log("エンター");
        const $selectingObject = $("#selected");
        console.log($selectingObject.find(".operate_object").attr("id"));
        if($selectingObject.find(".operate_object").attr("id") == "play1_object_1"){
          if(object_1_operate_count == 0){
            console.log("一つ目のオブジェクト")
          }
          console.log(`${object_1_operate_count + 1}回目の処理`)
          
          object_1_operate_count ++;
          const operateObject = $selectingObject.find(".operate_object");
          if(object_1_operate_count == 1){
            operateObject.addClass("animate__animated animate__zoomOut");
          }
          else if(object_1_operate_count == 2){
            operateObject.removeClass("animate__zoomOut");
            operateObject.addClass("animate__zoomIn");
          }
          else if(object_1_operate_count == 3){
            operateObject.removeClass("animate__zoomIn")
            operateObject.addClass("animate__rubberBand");
            object_1_operate_count = 0;
          }
        }
        else if($selectingObject.find(".operate_object").attr("id") == "play1_object_2"){
          console.log("二つ目のオブジェクト")
        }
      }
    })
  })
</script>

<div class = "play1_objects_parent">
  <%# 選択されている時、single_parentにselectedがつく %>
  <div class = "play1_single_parent">
    <p class = "play1_titles">たいとる</p>
    <div class = "play1_single justify_content">
      <%# コピーして使用する場合、↓の番号を変更する %>
      <div id = "play1_object_1" class = "picture_example operate_object">

      </div>
    </div>
    <p class = "play1_select_buttons">選択する</p>
  </div>

  <%# 選択されている時、single_parentにselectedがつく %>
  <div class = "play1_single_parent">
    <p class = "play1_titles">たいとる</p>
    <div class = "play1_single justify_content">
      <%# コピーして使用する場合、↓の番号を変更する %>
      <div id = "play1_object_2" class = "picture_example operate_object">

      </div>
    </div>
    <p class = "play1_select_buttons">選択する</p>
  </div>
  </div>

</div>